{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nconst PREFIX = \"chat-app-clone-\";\n/*\n    useLocalStorage is a custom Hook of useState\n*/\n//key is where the thing you store in localStorange. (to put it to the prefixKey -> find the correct value)\n//initialValue is the parameter that you pass to useState (could be as a function or just a variable)\n\nexport default function useLocalStorage(key, initialValue) {\n  _s();\n\n  //read from localStorage + store data to our state\n  let prefixKey = PREFIX + key;\n  const [value, setValue] = useState(() => {\n    //get the value on localStorage \n    const jsonVal = localStorage.getItem(prefixKey); //every return below are all for set the value [value, setValue] initially\n\n    console.log(jsonVal);\n\n    if (jsonVal != null) {\n      return JSON.parse(JSON.stringify(jsonVal));\n    } //passing function to initialValue (useState(()=>{})) \n\n\n    if (typeof initialValue === \"function\") {\n      return initialValue();\n    } else {\n      return initialValue;\n    }\n  }); //get value(state) and save to the localStorage\n\n  useEffect(() => {\n    //set the value you want to store to localStorage\n    if (value) {\n      localStorage.setItem(prefixKey, JSON.stringify(value));\n    }\n  }, [prefixKey, value]);\n  return [value, setValue];\n}\n\n_s(useLocalStorage, \"XBG/o/UpFJOwXWjvWS5l5MJtTiI=\");","map":{"version":3,"sources":["/Users/ducdoan2002/Desktop/chat-app/client/src/customHooks/useLocalStorage.js"],"names":["React","useEffect","useState","PREFIX","useLocalStorage","key","initialValue","prefixKey","value","setValue","jsonVal","localStorage","getItem","console","log","JSON","parse","stringify","setItem"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AAEA,MAAMC,MAAM,GAAG,iBAAf;AACA;AACA;AACA;AACA;AACA;;AAEA,eAAe,SAASC,eAAT,CAAyBC,GAAzB,EAA8BC,YAA9B,EAA4C;AAAA;;AACvD;AACA,MAAIC,SAAS,GAAGJ,MAAM,GAAGE,GAAzB;AACA,QAAM,CAACG,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,MAAI;AACnC;AACA,UAAMQ,OAAO,GAAGC,YAAY,CAACC,OAAb,CAAqBL,SAArB,CAAhB,CAFmC,CAGnC;;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;;AACA,QAAIA,OAAO,IAAI,IAAf,EAAoB;AAChB,aAAOK,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeP,OAAf,CAAX,CAAP;AACH,KAPkC,CAQnC;;;AACA,QAAI,OAAOJ,YAAP,KAAyB,UAA7B,EAAwC;AACpC,aAAOA,YAAY,EAAnB;AACH,KAFD,MAEK;AACD,aAAOA,YAAP;AACH;AACJ,GAdiC,CAAlC,CAHuD,CAmBvD;;AACAL,EAAAA,SAAS,CAAC,MAAI;AACV;AACA,QAAIO,KAAJ,EAAU;AACNG,MAAAA,YAAY,CAACO,OAAb,CAAqBX,SAArB,EAAgCQ,IAAI,CAACE,SAAL,CAAeT,KAAf,CAAhC;AACH;AACJ,GALQ,EAKN,CAACD,SAAD,EAAWC,KAAX,CALM,CAAT;AAOA,SAAO,CAACA,KAAD,EAAQC,QAAR,CAAP;AACH;;GA5BuBL,e","sourcesContent":["import React, {useEffect, useState} from 'react'\n\nconst PREFIX = \"chat-app-clone-\";\n/*\n    useLocalStorage is a custom Hook of useState\n*/\n//key is where the thing you store in localStorange. (to put it to the prefixKey -> find the correct value)\n//initialValue is the parameter that you pass to useState (could be as a function or just a variable)\n\nexport default function useLocalStorage(key, initialValue) {\n    //read from localStorage + store data to our state\n    let prefixKey = PREFIX + key;\n    const [value, setValue] = useState(()=>{\n        //get the value on localStorage \n        const jsonVal = localStorage.getItem(prefixKey);\n        //every return below are all for set the value [value, setValue] initially\n        console.log(jsonVal);\n        if (jsonVal != null){\n            return JSON.parse(JSON.stringify(jsonVal));         \n        }\n        //passing function to initialValue (useState(()=>{})) \n        if (typeof(initialValue) === \"function\"){\n            return initialValue();\n        }else{\n            return initialValue;\n        }\n    });\n\n    //get value(state) and save to the localStorage\n    useEffect(()=>{\n        //set the value you want to store to localStorage\n        if (value){\n            localStorage.setItem(prefixKey, JSON.stringify(value));\n        }\n    }, [prefixKey,value])\n\n    return [value, setValue];\n}\n"]},"metadata":{},"sourceType":"module"}